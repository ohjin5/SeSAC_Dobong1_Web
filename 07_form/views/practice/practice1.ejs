<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>form 배우기</title>
  </head>
  <body>
    <h2>GET 요청</h2>
    <form action="/getNotice" method="get">
      <label>
        이름:
        <input type="text" name="name" />
      </label>
            <fieldset>
              <legend>성별</legend>
              <label>
                <input type="radio" name="man" value="남자" /> 남자
                <input type="radio" name="woman" value="여자" /> 여자
              </label>
              <br />
            </fieldset>

            <fieldset>
              <legend>생년월일</legend>
              <label>
                <select id="year" name="year">
                  <option value="1997">1997</option>
                  <option value="1998">1998</option>
                  <option value="1999">1999</option>
                  <option value="2000">2000</option>
                </select>
                <select id="month" name="month">
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                </select>
                <select id="day" name="day">
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                </select>
      
                
              </label>
              <br />
            </fieldset>

            <fieldset>
              <legend>관심사</legend>
              <label>
                <input type="checkbox" name="tour" value="여행" /> 여행
              </label>
              <label>
                <input type="checkbox" name="fashion" value="패션" />
                패션
              </label>
      
              <label>
                <input type="checkbox" name="food" value="음식" /> 음식
              </label>
            </fieldset>
            <input type="submit" value="회원가입" />

            
          </form>
        </body>
      </html>
    </form>

    <h2>POST 요청</h2>
    <form action="/postForm" method="post">
      <label for="id">ID</label>
      <input
        type="text"
        id="id"
        name="id"
        required
        placeholder="id를 입력해주세요."
        pattern="^([a-zA-Z0-9가-힣]){4,10}$"
        title="아이디는 영어 대소문자, 숫자, 한글로 이루어진 4자 이상 10자 이하입니다."
      />
      <br />

      <label for="pw">비밀번호</label>
      <input
        type="password"
        id="pw"
        name="pw"
        pattern="^([a-z0-9]){8,12}$"
        placeholder="비밀번호를 입력해주세요."
        required
      />

      <fieldset>
        <legend>체크박스</legend>
        <label>
          <input type="checkbox" name="agree" value="마케팅 동의" /> 마케팅 동의
        </label>
        <br />
        <label>
          <input type="checkbox" name="agree" value="개인정보 수집 동의" />
          개인정보 수집 동의
        </label>
        <br />

        <label>
          <input type="checkbox" name="agree" value="이용약관 동의" /> 이용약관
          동의
        </label>
      </fieldset>

      <input type="submit" value="제출" />
    </form>
  </body>
</html> -->

<!-- 해답 -->

<!-- <!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>실습문제1 (form의 GET요청)</title>
  </head>
  <body>
    <form action="/getNotice" method="get">
      <label for="name">
        이름
        <input type="text" id="name" name="name" />
      </label>

      <fieldset>
        <legend>성별</legend>
        <label for="male">
          <input type="radio" name="gender" id="male" value="남자" /> 남자
        </label>
        <label for="female">
          <input type="radio" name="gender" id="female" value="여자" /> 여자
        </label>
      </fieldset>
      <fieldset>
        <legend>생년월일</legend>
        <select name="year" id="year">
          <%#for(let i=1985; i<=2003; i++){%>
          <option value="<%#=i%>"><%#=i%></option>
          <%#}%>
        </select>
        <span>년</span>
        <select name="month" id="month">
          <%#for(let i=1; i<=12; i++){%>
          <option value="<%#=i%>"><%#=i%></option>
          <%#}%>
        </select>
        <span>월</span>
        <select name="date" id="date">
          <%#for(let i=1; i<=31; i++){%>
          <option value="<%#=i%>"><%#=i%></option>
          <%#}%>
        </select>
        <span>일</span>
      </fieldset>
      <fieldset>
        <legend>관심사</legend>
        <label>
          <input type="checkbox" name="favorite" value="여행" /> 여행
        </label>
        <label>
          <input type="checkbox" name="favorite" value="패션" /> 패션
        </label>
        <label>
          <input type="checkbox" name="favorite" value="음식" /> 음식
        </label>
      </fieldset>
      <button>제출</button>
    </form>
  </body>
</html> -->

<!-- 여기서부터는 2024-01-29 실습 진행 -->

<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <form name="register">
      <label for="name">
        이름
        <input type="text" id="name" name="name" />
      </label>

      <fieldset>
        <legend>성별</legend>
        <label for="male">
          <input type="radio" name="gender" id="male" value="남자" /> 남자
        </label>
        <label for="female">
          <input type="radio" name="gender" id="female" value="여자" /> 여자
        </label>
      </fieldset>
      <fieldset>
        <legend>생년월일</legend>
        <select name="year" id="year">
          <%for(let i=1985; i<=2003; i++){%>
          <option value="<%=i%>"><%=i%></option>
          <%}%>
        </select>
        <span>년</span>
        <select name="month" id="month">
          <%for(let i=1; i<=12; i++){%>
          <option value="<%=i%>"><%=i%></option>
          <%}%>
        </select>
        <span>월</span>
        <select name="date" id="date">
          <%for(let i=1; i<=31; i++){%>
          <option value="<%=i%>"><%=i%></option>
          <%}%>
        </select>
        <span>일</span>
      </fieldset>
      <fieldset>
        <legend>관심사</legend>
        <label>
          <input type="checkbox" name="favorite" value="여행" /> 여행
        </label>
        <label>
          <input type="checkbox" name="favorite" value="패션" /> 패션
        </label>
        <label>
          <input type="checkbox" name="favorite" value="음식" /> 음식
        </label>
      </fieldset>
      <button type="button" onclick="axiosGetRegister()">회원가입</button>
    </form>
    <script>
      function axiosGetRegister() {
        const form = document.forms["register"];

        const favorite = [];

        const checkboxes = document.querySelectorAll(
          'input[name="favorite"]:checked'
        );
        checkboxes.forEach(function (checkbox) {
          favorite.push(checkbox.value);
        });

        const data = {
          name: form.name.value,
          gender: form.gender.value,
          birth: `${form.year.value}-${form.month.value}-${form.date.value}`,
          favorite: favorite,
        };

        axios({
          method: "get",
          url: "/axios",
          params: data,
        }).then(function (response) {
          console.log(response.data);
          const { name, gender, birth, favorite } = response.data;
          console.log(
            `이름: ${name}, 성별: ${gender}, 생년월일: ${birth}, 관심사: ${favorite}`
          );
        });
      }
    </script>
  </body>
</html>
